<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Maps</title>
<meta name="author" content="Adrián Pérez &lt;aperez&#64;igalia.com&gt;" />
<meta name="copyright" content="Igalia S.L., 2008" />
<link rel="stylesheet" href="../../style.css" type="text/css" />
</head>
<body>
<div class="document" id="maps">
<h1 class="title">Maps</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Adrián Pérez &lt;<a class="reference external" href="mailto:aperez&#64;igalia.com">aperez&#64;igalia.com</a>&gt;</td></tr>
<tr><th class="docinfo-name">Copyright:</th>
<td>Igalia S.L., 2008</td></tr>
<tr class="field"><th class="docinfo-name">License:</th><td class="field-body">GPL v2</td>
</tr>
</tbody>
</table>
<div class="abstract topic">
<p class="topic-title first">Abstract</p>
<p>Provides a dictionary-like data structure for use in shell code.</p>
</div>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#functions" id="id2">Functions</a><ul>
<li><a class="reference internal" href="#map-get" id="id3">map_get</a></li>
<li><a class="reference internal" href="#map-key" id="id4">map_key</a></li>
<li><a class="reference internal" href="#map-keys" id="id5">map_keys</a></li>
<li><a class="reference internal" href="#map-size" id="id6">map_size</a></li>
<li><a class="reference internal" href="#map-item" id="id7">map_item</a></li>
<li><a class="reference internal" href="#map-values" id="id8">map_values</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id1">Introduction</a></h1>
<p>This module adds functions to manage pseudo hash tables using arrays. It
it not as efficient as a proper hash table implementation, but that
would be difficult to do in shell code and this suffices for a vast
amount of cases where performance is not critical. In fact, when maps
are used to store a small amount of items, they may even be faster.</p>
<p>An array containing paired items is considered to be a map, like the
following example:</p>
<div class="highlight"><pre><span class="nv">mymap</span><span class="o">=(</span>
    <span class="s2">&quot;key1&quot;</span>    <span class="s2">&quot;value1&quot;</span>
    <span class="s2">&quot;key2&quot;</span>    <span class="s2">&quot;value2&quot;</span>
    <span class="c"># ...</span>
<span class="o">)</span>
</pre></div>
<p>Obviously enough, a map must contain an even number of elements.</p>
<div class="warning">
<p class="first admonition-title">Warning</p>
<p class="last">This map implementation is neither CPU and memory
efficient. Each algorithm has <em>O(n)</em> complexity. This is <em>not</em>
considered to be an error.</p>
</div>
</div>
<div class="section" id="functions">
<h1><a class="toc-backref" href="#id2">Functions</a></h1>
<div class="section" id="map-get">
<h2><a class="toc-backref" href="#id3">map_get</a></h2>
<pre class="literal-block">
map_get map key
</pre>
<p>Obtains the value associated with a particular key. The exit status is
non-zero if the specified key does not exist.</p>
</div>
<div class="section" id="map-key">
<h2><a class="toc-backref" href="#id4">map_key</a></h2>
<pre class="literal-block">
map_key map value
</pre>
<p>Finds the first key which has the given value associated. Exits status
is non-zero if the item is not found.</p>
</div>
<div class="section" id="map-keys">
<h2><a class="toc-backref" href="#id5">map_keys</a></h2>
<pre class="literal-block">
map_keys map
</pre>
<p>Gets a list of all the keys in a map. Exit status is non-zero if
the map is empty.</p>
</div>
<div class="section" id="map-size">
<h2><a class="toc-backref" href="#id6">map_size</a></h2>
<pre class="literal-block">
map_size map
</pre>
<p>Calculates the number of elements present in a map.</p>
</div>
<div class="section" id="map-item">
<h2><a class="toc-backref" href="#id7">map_item</a></h2>
<pre class="literal-block">
map_item map index
</pre>
<p>Returns item at the given position of the map. Usually you do not need
to use this function, as it will be used internally by the rest of the
functions of the module. It could be useful to build additional features
in other modules.</p>
</div>
<div class="section" id="map-values">
<h2><a class="toc-backref" href="#id8">map_values</a></h2>
<pre class="literal-block">
map_values map
</pre>
<p>Obtains a list of all the values in a map. Exit status is non-zero
if the map is empty.</p>
</div>
</div>
</div>
</body>
</html>
