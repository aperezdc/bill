<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>Handling of terminal consoles</title>
<meta name="author" content="Adrián Pérez &lt;aperez&#64;igalia.com&gt;" />
<meta name="copyright" content="Igalia S.L., 2008" />
<link rel="stylesheet" href="../../style.css" type="text/css" />
</head>
<body>
<div class="document" id="handling-of-terminal-consoles">
<h1 class="title">Handling of terminal consoles</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Adrián Pérez &lt;<a class="reference" href="mailto:aperez&#64;igalia.com">aperez&#64;igalia.com</a>&gt;</td></tr>
<tr class="field"><th class="docinfo-name">License:</th><td class="field-body">GPL v2</td>
</tr>
<tr><th class="docinfo-name">Copyright:</th>
<td>Igalia S.L., 2008</td></tr>
</tbody>
</table>
<div class="abstract topic">
<p class="topic-title first">Abstract</p>
<p>Handles settings of standard Unix terminal console devices.
Provides support for nicer handling of features like ECMA-48 (ANSI)
color codes.</p>
</div>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#ecma-48-graphics-rendition" id="id1" name="id1">ECMA-48 graphics rendition</a><ul>
<li><a class="reference" href="#typical-usage" id="id2" name="id2">Typical usage</a></li>
</ul>
</li>
<li><a class="reference" href="#functions" id="id3" name="id3">Functions</a><ul>
<li><a class="reference" href="#tty-color-alias" id="id4" name="id4">tty_color_alias</a></li>
<li><a class="reference" href="#tty-color-fg" id="id5" name="id5">tty_color_fg</a></li>
<li><a class="reference" href="#tty-color-bg" id="id6" name="id6">tty_color_bg</a></li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id1" id="ecma-48-graphics-rendition" name="ecma-48-graphics-rendition">ECMA-48 graphics rendition</a></h1>
<p>Support for using ECMA-48 escape sequences (also known as ANSI color
escapes) is provided by using <a class="reference" href="#tty-color-fg">tty_color_fg</a>, <a class="reference" href="#tty-color-bg">tty_color_bg</a> and other
related functions.</p>
<div class="section">
<h2><a class="toc-backref" href="#id2" id="typical-usage" name="typical-usage">Typical usage</a></h2>
<p>There are some usage patterns which you may want to know prior to start
using the module. The most important one follows the <em>avoid doing the
same operation twice</em> motto: calling <a class="reference" href="#tty-color-fg">tty_color_fg</a> and <a class="reference" href="#tty-color-bg">tty_color_bg</a> is
not cheap in terms of efficiency, but their result can be saved for
later use. So instead of:</p>
<div class="highlight"><pre><span class="nb">echo</span> <span class="s2">&quot;$(tty_color_fg red) This is RED $(tty_color_fg reset)&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;$(tty_color_fg red) This one too... $(tty_color_fg reset)&quot;</span>
</pre></div>
<p>it is better to save results in variables and reuse the values:</p>
<div class="highlight"><pre><span class="nv">red</span><span class="o">=</span><span class="k">$(</span>tty_color_fg red<span class="k">)</span>
<span class="nv">reset</span><span class="o">=</span><span class="k">$(</span>tty_color_fg reset<span class="k">)</span>
<span class="nb">echo</span> <span class="s2">&quot;$red This is RED $reset&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;$red This one too... $reset&quot;</span>
</pre></div>
<p>This way your scripts will run faster and your code will be cleaner.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id3" id="functions" name="functions">Functions</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id4" id="tty-color-alias" name="tty-color-alias">tty_color_alias</a></h2>
<pre class="literal-block">
tty_color_alias colorname
</pre>
<p>Obtains the real color for a given color name, resolving aliases as
needed.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">In the current implementation only <strong>one</strong> level of
indirection is resolved. That should be enough for all cases.</p>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id5" id="tty-color-fg" name="tty-color-fg">tty_color_fg</a></h2>
<pre class="literal-block">
tty_color_fg attribute1 [ attribute2 [ ... attributeN ] ]
</pre>
<p>Obtains the ECMA-48 escape sequence needed to apply a determinate
graphics rendition in the foreground. The escape sequence will apply
<em>all</em> the given attributes. See <a class="reference" href="#typical-usage">typical usage</a> above for tips on
how to use this function.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id6" id="tty-color-bg" name="tty-color-bg">tty_color_bg</a></h2>
<pre class="literal-block">
tty_color_bg attribute1 [ attribute2 [ ... attributeN ] ]
</pre>
<p>Obtains the ECMA-48 escape sequence needed to apply a determinate
graphics rendition in the background. The escape sequence will apply
<em>all</em> the given attributes. See <a class="reference" href="#typical-usage">typical usage</a> above for tips on
how to use this function.</p>
</div>
</div>
</div>
</body>
</html>
